<html>
<body>
  <div id="amazon-root"></div>

  <script type="text/javascript">

    window.onAmazonLoginReady = function() {
      amazon.Login.setClientId('#{client_id}');
    };
    (function(d) {
      var a = d.createElement('script'); a.type = 'text/javascript';
      a.async = true; a.id = 'amazon-login-sdk';
      a.src = 'https://api-cdn.amazon.com/sdk/login1.js';
      d.getElementById('amazon-root').appendChild(a);
    })(document);

  </script>

  <p>

  Login:
  <a href="#" id="LoginWithAmazon">
    <img border="0" alt="Login with Amazon" src="https://images-na.ssl-images-amazon.com/images/G/01/lwa/btnLWA_gold_156x32.png" width="156" height="32" />
  </a> <br/>
  </p>
  
  <p>
  Logout: <a href="#" id="Logout">Logout</a> <br/>
  </p>

  <script type="text/javascript">

  document.getElementById('LoginWithAmazon').onclick = function() {
    options = { scope : 'alexa:all',
    scope_data: {"alexa:all": {
          "productID": "#{product_id}",
          "productInstanceAttributes": {
              "deviceSerialNumber": "#{device_serial_number}"
          }
      } } };
    amazon.Login.authorize(options, 'http://localhost:8777/complete');
    return false;
  };

  </script>

  <script type="text/javascript">
  document.getElementById('Logout').onclick = function() {
    amazon.Login.logout();
  };
  </script>
</body>
</html>
